webpackJsonp([358],{"9ekY":function(e,t,a){"use strict";var n={500:"\u670d\u52a1\u5668\u5f02\u5e38\uff0c\u8bf7\u8054\u7cfb\u5e73\u53f0\u7ba1\u7406\u5458\uff01",400:"\u63d0\u4ea4\u6570\u636e\u6709\u8bef\uff0c\u8bf7\u68c0\u67e5\uff01"};t.a=function(e){return n[e]||"\u63d0\u4ea4\u5931\u8d25\uff0c\u8bf7\u8054\u7cfb\u5e73\u53f0\u7ba1\u7406\u5458"}},E8Gi:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"d",function(){return r}),a.d(t,"e",function(){return i}),a.d(t,"c",function(){return s}),a.d(t,"b",function(){return o});var n="business.food.license",r="business.license",i="business.organization.code",s="business.holder.front",o="business.holder.back"},Errp:function(e,t,a){var n=a("I2No");"string"===typeof n&&(n=[[e.i,n,""]]);var r={hmr:!1,transform:void 0};a("MTIv")(n,r);n.locals&&(e.exports=n.locals)},I2No:function(e,t,a){(t=e.exports=a("FZ+f")(!1)).push([e.i,".app-3FY861Uc{max-width:500px;margin:40px auto 0}.app-dng-jmZU{margin-bottom:24px}.app-dng-jmZU .ant-form-item-control,.app-dng-jmZU .ant-form-item-label{line-height:22px}.app-1_hHh8w5{max-width:560px;margin:0 auto;padding:24px 0 8px}.app-2OL4KbJl{padding:0 56px;color:rgba(0,0,0,.45)}.app-2OL4KbJl h3{margin:0 0 12px;color:rgba(0,0,0,.45);font-size:16px;line-height:32px}.app-2OL4KbJl h4{margin:0 0 4px;color:rgba(0,0,0,.45);font-size:14px;line-height:22px}.app-2OL4KbJl p{margin-top:0;margin-bottom:12px;line-height:22px}@media screen and (max-width:768px){.app-2OL4KbJl{padding:0}}.app-e6fMcWW5{line-height:22px}.app-e6fMcWW5 .ant-row:not(:last-child){margin-bottom:24px}.app-e6fMcWW5 .app-3fVXMfVY{padding-right:8px;color:rgba(0,0,0,.85);text-align:right}@media screen and (max-width:576px){.app-e6fMcWW5 .app-3fVXMfVY{text-align:left}}.app-3sKIohJu{font-weight:500;font-size:20px;font-family:Helvetica Neue,sans-serif;line-height:14px}.app-9z4tmTeC{font-size:12px}",""]),t.locals={stepForm:"app-3FY861Uc",stepFormText:"app-dng-jmZU",result:"app-1_hHh8w5",desc:"app-2OL4KbJl",information:"app-e6fMcWW5",label:"app-3fVXMfVY",money:"app-3sKIohJu",uppercase:"app-9z4tmTeC"}},QmFP:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"a",function(){return r});var n=function(e){return(e||[]).map(function(e){return{response:e,url:e.url,uid:e.id,size:e.fileLength,name:e.fileName,type:e.contentType}})},r=2097152},Sn9Y:function(e,t,a){"use strict";var n=a("Xxa5"),r=a.n(n),i=a("Y7bj"),s=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))(function(r,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function o(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(s,o)}l((n=n.apply(e,t||[])).next())})};t.a={businessSettledIn:function(e){return s(this,void 0,void 0,r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(i.a)("/api/business/settled",{method:"POST",body:e,anonymous:!0}));case 1:case"end":return t.stop()}},t,this)}))},getBusinseeEditable:function(e){return s(this,void 0,void 0,r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(i.a)("/api/business/"+e+"/editable",{anonymous:!0}));case 1:case"end":return t.stop()}},t,this)}))},getBusinseeSettledInfo:function(e){return s(this,void 0,void 0,r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(i.a)("/api/business/"+e+"/settled"));case 1:case"end":return t.stop()}},t,this)}))}}},WK8R:function(e,t,a){"use strict";a("crfj");var n=a("zwGx"),r=(a("LHBr"),a("A+AJ")),i=(a("gZEk"),a("8rR3")),s=a("Zrlr"),o=a.n(s),l=a("wxAW"),u=a.n(l),c=a("zwoO"),d=a.n(c),m=a("Pf15"),p=a.n(m),f=a("GiK3"),h=a.n(f),g=a("Errp"),b=i.a.Item,y={span:5},v={span:19},E={label:"25.\u57fa\u672c\u6237\u5f00\u6237\u884c",extra:"\u5982\u201c\u62db\u5546\u94f6\u884c\u201d"},I={label:"26.\u57fa\u672c\u6237\u5f00\u6237\u652f\u884c",extra:"\u5982\uff1a\u201c\u5c71\u4e1c\u7701\u6d4e\u5357\u5e02\u62db\u5546\u94f6\u884c\u80a1\u4efd\u6709\u9650\u516c\u53f8\u6d4e\u5357\u5206\u884c\u201d"},x={label:"27.\u57fa\u672c\u6237\u94f6\u884c\u5e10\u53f7"},D=function(e){function t(){return o()(this,t),d()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p()(t,e),u()(t,[{key:"_onValidateForm",value:function(e){var t=this;1===e&&this.props.form.validateFields(function(e,a){e||t.props.onSubmit(a)}),2===e&&this.props.onBack()}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.props.data||{};return h.a.createElement(f.Fragment,null,h.a.createElement(i.a,{layout:"vertical",className:g.stepForm},h.a.createElement(b,E,t("bank",{initialValue:a.bank,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5f00\u6237\u884c"},{required:!0,message:"\u6700\u957f\u53ef\u8f9360\u4e2a\u5b57\u7b26",max:60}]})(h.a.createElement(r.a,null))),h.a.createElement(b,I,t("bankBranch",{initialValue:a.bankBranch,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5f00\u6237\u652f\u884c"},{required:!0,message:"\u6700\u957f\u53ef\u8f9360\u4e2a\u5b57\u7b26",max:60}]})(h.a.createElement(r.a,{style:{width:"100%"}}))),h.a.createElement(b,x,t("bankAccount",{initialValue:a.bankAccount,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u94f6\u884c\u5e10\u53f7"},{required:!0,message:"\u6700\u957f\u53ef\u8f9330\u4e2a\u5b57\u7b26",max:30}]})(h.a.createElement(r.a,{style:{width:"100%"}}))),h.a.createElement(b,{wrapperCol:{xs:{span:24,offset:0},sm:{span:v.span,offset:y.span}},label:""},h.a.createElement(n.a,{type:"primary",onClick:function(){return e._onValidateForm(2)}},"\u4e0a\u4e00\u6b65"),h.a.createElement(n.a,{type:"primary",onClick:function(){return e._onValidateForm(1)},style:{marginLeft:20}},"\u63d0\u4ea4"))))}}]),t}(f.PureComponent);t.a=i.a.create()(D)},cYb1:function(e,t,a){"use strict";a("jIi2");var n=a("hRRF"),r=a("Zrlr"),i=a.n(r),s=a("wxAW"),o=a.n(s),l=a("zwoO"),u=a.n(l),c=a("Pf15"),d=a.n(c),m=a("GiK3"),p=a.n(m),f=a("FTZ6"),h=function(e){function t(){return i()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d()(t,e),o()(t,[{key:"render",value:function(){return p.a.createElement(n.a,{bordered:!1},p.a.createElement(f.a,{type:"success",title:"\u63d0\u4ea4\u6210\u529f",style:{marginTop:48,marginBottom:16}}))}}]),t}(m.PureComponent);t.a=h},deIl:function(e,t,a){"use strict";a("jIi2");var n=a("hRRF"),r=a("Zrlr"),i=a.n(r),s=a("wxAW"),o=a.n(s),l=a("zwoO"),u=a.n(l),c=a("Pf15"),d=a.n(c),m=a("GiK3"),p=a.n(m),f=a("FTZ6"),h=function(e){function t(){return i()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d()(t,e),o()(t,[{key:"render",value:function(){return p.a.createElement(n.a,{bordered:!1},p.a.createElement(f.a,{type:"error",title:"\u5e73\u53f0\u5df2\u5173\u95ed\u8be5\u8868\u5355",style:{marginTop:48,marginBottom:16}}))}}]),t}(m.PureComponent);t.a=h},n01F:function(e,t,a){"use strict";a("rpBe");var n=a("hK1P"),r=(a("baa2"),a("FC3+")),i=(a("crfj"),a("zwGx")),s=(a("scXE"),a("DYcq")),o=(a("QX4N"),a("Gj0I")),l=(a("/4RJ"),a("uz+M")),u=(a("tDqI"),a("gtac")),c=(a("LHBr"),a("A+AJ")),d=(a("gZEk"),a("8rR3")),m=a("Gu7T"),p=a.n(m),f=a("bOdI"),h=a.n(f),g=a("pFYg"),b=a.n(g),y=a("Zrlr"),v=a.n(y),E=a("wxAW"),I=a.n(E),x=a("zwoO"),D=a.n(x),k=a("Pf15"),_=a.n(k),T=a("GiK3"),S=a.n(T),F=a("FfQ2"),w=a("khtf"),P=a("E8Gi"),V=a("QmFP"),Y=a("PJh5"),C=a.n(Y),q=a("Errp"),L=d.a.Item,B=c.a.TextArea,M=u.c.Group,j="Corporation",O={span:5},z={span:19},U={fullName:{label:"8.\u4f01\u4e1a\u540d\u79f0",extra:"\u9700\u4e0e\u8425\u4e1a\u6267\u7167\u767b\u8bb0\u516c\u53f8\u540d\u79f0\u4e00\u81f4"},registeredAddress:{label:"9.\u6ce8\u518c\u5730\u5740",extra:"\u9700\u4e0e\u8425\u4e1a\u6267\u7167\u767b\u8bb0\u4f4f\u6240\u4e00\u81f4"},registeredCapital:{label:"10.\u6ce8\u518c\u8d44\u672c",extra:"\u9700\u4e0e\u8425\u4e1a\u6267\u7167\u767b\u8bb0\u516c\u53f8\u6ce8\u518c\u8d44\u672c\u4e00\u81f4"},establishDate:{label:"11.\u6210\u7acb\u65e5\u671f",extra:"\u9700\u4e0e\u8425\u4e1a\u6267\u7167\u767b\u8bb0\u516c\u53f8\u6210\u7acb\u65e5\u671f\u4e00\u81f4"},businessLicense:{label:"12.\u8425\u4e1a\u6267\u7167\u6ce8\u518c\u53f7",extra:"\u8bf7\u586b\u5199\u8425\u4e1a\u6267\u7167\u4e0a\u768415\u4f4d\u6ce8\u518c\u53f7\u621618\u4f4d\u7edf\u4e00\u793e\u4f1a\u4fe1\u7528\u4ee3\u7801"},businessScope:{label:"13.\u7ecf\u8425\u8303\u56f4",extra:"\u4e0e\u4f01\u4e1a\u5de5\u5546\u8425\u4e1a\u6267\u7167\u4e0a\u4e00\u81f4"},businessTerm:{label:"14.\u8425\u4e1a\u671f\u9650",extra:"\u8bc1\u4ef6\u6709\u6548\u671f\u9650\u9700\u4e0e\u4e0a\u4f20\u6587\u4ef6\u4e0a\u6240\u793a\u671f\u9650\u4e00\u81f4\uff0c\u82e5\u6709\u6548\u671f\u8d85\u8fc72100\u5e74\uff0c\u8bf7\u586b\u5199\u201c\u81f3\u957f\u671f\u201d\uff0c\u6bd4\u59822018\u5e749\u670818\u65e5\u81f3 \u5e74 \u6708 \u65e5\uff0c\u8bf7\u586b\u5199\u201c2018\u5e749\u670818\u65e5\u81f3\u957f\u671f\u201d"},licenseImg:{label:"15.\u8425\u4e1a\u6267\u7167\u7167\u7247",extra:S.a.createElement("span",null,"\u9700\u5e74\u68c0\u7ae0\u9f50\u5168\uff08\u5f53\u5e74\u6210\u7acb\u516c\u53f8\u9664\u5916\uff09;",S.a.createElement("br",null),"\u5fc5\u987b\u4e3a\u5f69\u8272\u56fe\u7247\u4e14\u5c0f\u4e8e2M\uff0c\u6587\u4ef6\u683c\u5f0f\u4e3abmp\u3001png\u3001jpeg\u3001jpg\u6216gif")},licenseUnification:{label:"16.\u8425\u4e1a\u6267\u7167\u662f\u5426\u5df2\u4e09\u8bc1\u5408\u4e00",extra:"\u82e5\u8425\u4e1a\u6267\u7167\u6ca1\u6709\u4e09\u8bc1\u5408\u4e00\uff0c\u8bf7\u9009\u62e9\u201c\u5426\u201d\uff0c\u5e76\u586b\u5199\u201c\u7ec4\u7ec7\u673a\u6784\u4ee3\u7801\u8bc1\u201d\u7684\u76f8\u5173\u4fe1\u606f"},organizationCode:{label:"17.\u7ec4\u7ec7\u673a\u6784\u4ee3\u7801",extra:"\u8bf7\u8f93\u51659\u4f4d\u7ec4\u7ec7\u673a\u6784\u4ee3\u7801"},businessTerm2:{label:"18.\u8425\u4e1a\u671f\u9650",extra:"\u8bc1\u4ef6\u6709\u6548\u671f\u9650\u9700\u4e0e\u4e0a\u4f20\u6587\u4ef6\u4e0a\u6240\u793a\u671f\u9650\u4e00\u81f4\uff0c\u82e5\u6709\u6548\u671f\u8d85\u8fc72100\u5e74\uff0c\u8bf7\u586b\u5199\u201c\u81f3\u957f\u671f\u201d\uff0c\u6bd4\u59822018\u5e749\u670818\u65e5\u81f3 \u5e74 \u6708 \u65e5\uff0c\u8bf7\u586b\u5199\u201c2018\u5e749\u670818\u65e5\u81f3\u957f\u671f\u201d"},organizationCodeImg:{label:"19.\u7ec4\u7ec7\u673a\u6784\u4ee3\u7801\u8bc1\u7167\u7247",extra:"\u5fc5\u987b\u4e3a\u5f69\u8272\u56fe\u7247\u4e14\u5c0f\u4e8e2M\uff0c\u6587\u4ef6\u683c\u5f0f\u4e3abmp\u3001png\u3001jpeg\u3001jpg\u6216gif"},holderName:{label:"20.\u8bc1\u4ef6\u6301\u6709\u4eba\u59d3\u540d"},holderID:{label:"21.\u8eab\u4efd\u8bc1\u53f7\u7801"},holderIDValidity:{label:"22.\u8bc1\u4ef6\u6709\u6548\u671f"},holderIDFront:{label:"23.\u8eab\u4efd\u8bc1\u6b63\u9762\u7167\u7247",extra:"\u5fc5\u987b\u4e3a\u5f69\u8272\u56fe\u7247\u4e14\u5c0f\u4e8e2M\uff0c\u6587\u4ef6\u683c\u5f0f\u4e3abmp\u3001png\u3001jpeg\u3001jpg\u6216gif"},holderIDBack:{label:"24.\u8eab\u4efd\u8bc1\u53cd\u9762\u7167\u7247",extra:"\u5fc5\u987b\u4e3a\u5f69\u8272\u56fe\u7247\u4e14\u5c0f\u4e8e2M\uff0c\u6587\u4ef6\u683c\u5f0f\u4e3abmp\u3001png\u3001jpeg\u3001jpg\u6216gif"}},X=function(e){function t(e){v()(this,t);var a=D()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onBusinessLicenseCheck=function(e){a.setState({businessTermHidden:e.target.checked}),e.target.checked?a.setState({validPreiodType:0}):a.setState({validPreiodType:1})},a.isHiddenBusinessLicenseDate=function(e){var t=a.props.form.getFieldDecorator,n=a.props.data||{};return e?null:S.a.createElement("div",{style:{marginTop:"5px"}},S.a.createElement(L,{style:{marginBottom:"1px"}},t("businessTerm",{initialValue:(n&&n.businessTerm?C()(n.businessTerm,"YYYY-MM-DD"):"")||null,rules:[{required:!0,message:"\u7ed3\u675f\u65e5\u671f\u4e0d\u80fd\u4e3a\u7a7a"}]})(S.a.createElement(l.a,{style:{width:390},placeholder:"\u8bf7\u9009\u62e9\u7ed3\u675f\u65e5\u671f"}))))},a.onBusiness2LicenseCheck=function(e){a.setState({businessTerm2Hidden:e.target.checked}),e.target.checked?a.setState({validPreiodType2:0}):a.setState({validPreiodType2:1})},a.isHiddenBusiness2LicenseDate=function(e){var t=a.props.form.getFieldDecorator,n=a.props.data||{};return e?null:S.a.createElement("div",{style:{marginTop:"5px"}},S.a.createElement(L,{style:{marginBottom:"1px"}},t("businessTerm2",{initialValue:(n&&n.businessTerm2?C()(n.businessTerm2,"YYYY-MM-DD"):"")||null,rules:[{required:!0,message:"\u7ed3\u675f\u65e5\u671f\u4e0d\u80fd\u4e3a\u7a7a"}]})(S.a.createElement(l.a,{style:{width:390},placeholder:"\u8bf7\u9009\u62e9\u7ed3\u675f\u65e5\u671f"}))))},a.idCardCheck=function(e){a.setState({idCardHidden:e.target.checked}),e.target.checked?a.setState({holderValidPreiodType:0}):a.setState({holderValidPreiodType:1})},a.isIdCardDate=function(e){var t=a.props.form.getFieldDecorator,n=a.props.data||{};return e?null:S.a.createElement("div",{style:{marginTop:"5px"}},S.a.createElement(L,{style:{marginBottom:"1px"}},t("holderIDValidity",{initialValue:(n&&n.holderIDValidity?C()(n.holderIDValidity,"YYYY-MM-DD"):"")||null,rules:[{required:!0,message:"\u7ed3\u675f\u65e5\u671f\u4e0d\u80fd\u4e3a\u7a7a"}]})(S.a.createElement(l.a,{style:{width:390},placeholder:"\u8bf7\u9009\u62e9\u7ed3\u675f\u65e5\u671f"}))))},a.state={holderIDBack:[],holderIDFront:[],organizationCodeImg:[],licenseImg:[],licenseUnification:!b()(e.data)||"boolean"!==e.data.licenseUnification||e.data.licenseUnification,validPreiodType:e.data&&e.data.validPreiodType||1,businessTermHidden:e.data&&e.data.validPreiodType&&"LongTerm"===e.data.validPreiodType,businessTerm2Hidden:e.data&&e.data.validPreiodType2&&"LongTerm"===e.data.validPreiodType2,idCardHidden:e.data&&e.data.holderValidPreiodType&&"LongTerm"===e.data.holderValidPreiodType,validPreiodType2:e.data&&e.data.validPreiodType2||1,holderValidPreiodType:e.data&&e.data.holderValidPreiodType||1},a}return _()(t,e),I()(t,[{key:"componentWillMount",value:function(){this._setImg(this.props.data)}},{key:"_setImg",value:function(e){e=e||{};var t=Object(V.b)(e.holderIDBack),a=Object(V.b)(e.holderIDFront),n=Object(V.b)(e.organizationCodeImg),r=Object(V.b)(e.licenseImg);this.setState({holderIDBack:t,holderIDFront:a,organizationCodeImg:n,licenseImg:r})}},{key:"componentWillReceiveProps",value:function(e){e.data&&e.data!==this.props.data&&(this.props.form.setFieldsValue({holderIDBack:e.data.holderIDBack,holderIDFront:e.data.holderIDFront,organizationCodeImg:e.data.organizationCodeImg,licenseImg:e.data.licenseImg}),this._setImg(e.data))}},{key:"_onValidateForm",value:function(e){var t=this;1===e&&this.props.form.validateFields(function(e,a){e||(a.startDate=C()(a.startDate).format("YYYY-MM-DD").toString(),a.businessTerm=C()(a.businessTerm).format("YYYY-MM-DD").toString(),a.startDate2=C()(a.startDate2).format("YYYY-MM-DD").toString(),a.businessTerm2=C()(a.businessTerm2).format("YYYY-MM-DD").toString(),a.holderStartDate=C()(a.holderStartDate).format("YYYY-MM-DD").toString(),a.holderIDValidity=C()(a.holderIDValidity).format("YYYY-MM-DD").toString(),a.validPreiodType=t.state.validPreiodType,a.validPreiodType2=t.state.validPreiodType2,a.holderValidPreiodType=t.state.holderValidPreiodType,a.certificatesHolderType=j,t.props.onSubmit(a))}),2===e&&this.props.onBack()}},{key:"_setState",value:function(e,t){switch(e){case"holderIDBack":return void this.setState({holderIDBack:t});case"holderIDFront":return void this.setState({holderIDFront:t});case"organizationCodeImg":return void this.setState({organizationCodeImg:t});case"licenseImg":return void this.setState({licenseImg:t});default:return}}},{key:"_onChangePicture",value:function(e,t,a){var n=this;t.status&&(t.response&&(t.thumbUrl=t.response.url),this._setState(e,[t]),this.props.form.setFieldsValue(h()({},e,[t])),a.filter(function(e){return e.uid!==t.uid}).forEach(function(t){return n._onRemovePicture(e,t)}))}},{key:"_onRemovePicture",value:function(e,t){t.response.id&&w.a.deleteAttachment(t.response.id);var a=this.state[e]||[],n=a.findIndex(function(e){return e.uid===t.uid});n>-1&&a.splice(n,1),this._setState(e,[].concat(p()(a))),a.length||this.props.form.setFieldsValue(h()({},e,void 0))}},{key:"_onBeforeUpload",value:function(e){return!(e.size>V.a)||(o.a.error({message:"\u6587\u4ef6\u6700\u5927\u53ea\u80fd\u4e0a\u4f202M"}),!1)}},{key:"_renderUpload",value:function(e,t,a){var n=this;return S.a.createElement(s.a,{key:a,listType:"picture-card",beforeUpload:function(e){return n._onBeforeUpload(e)},onRemove:function(e){return n._onRemovePicture(a,e)},fileList:t,onChange:function(e){var t=e.file,r=e.fileList;return n._onChangePicture(a,t,r)},customRequest:function(e,t){return function(a){var n={abort:function(){}};return w.a.getUploadFormData(e,t,0).then(function(e){var t=(new Date).getTime();a.action=e.url,a.data=e.form,a.data.name=a.file.name,a.data.key+=t.toString()+"."+a.file.name.split(".").pop(),a.data["x:friendlyfilename"]=a.file.name,n=Object(F.a)(a)}),{abort:function(){n.abort()}}}}(e,this.props.businessId)},S.a.createElement(i.a,null,S.a.createElement(r.a,{type:"upload"})," \u9009\u62e9\u6587\u4ef6\uff08\u4e0d\u8d85\u8fc72M\uff09"))}},{key:"_onLicenseChange",value:function(e){this.setState({licenseUnification:e.target.value})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state,r=a.licenseImg,s=a.holderIDBack,o=a.holderIDFront,m=a.organizationCodeImg,p=a.licenseUnification,f=a.businessTermHidden,h=a.businessTerm2Hidden,g=a.idCardHidden,b=this.props.data||{};return S.a.createElement(T.Fragment,null,S.a.createElement(d.a,{layout:"vertical",className:q.stepForm},S.a.createElement(L,U.fullName,t("fullName",{initialValue:b.fullName,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4f01\u4e1a\u540d\u79f0"},{required:!0,message:"\u6700\u957f\u53ef\u8f93510\u4e2a\u5b57\u7b26",max:510}]})(S.a.createElement(c.a,null))),S.a.createElement(L,U.registeredAddress,t("registeredAddress",{initialValue:b.registeredAddress,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6ce8\u518c\u5730\u5740"},{required:!0,message:"\u6700\u957f\u53ef\u8f93100\u4e2a\u5b57\u7b26",max:100}]})(S.a.createElement(c.a,{style:{width:"100%"}}))),S.a.createElement(L,U.registeredCapital,t("registeredCapital",{initialValue:b.registeredCapital,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6ce8\u518c\u8d44\u672c"},{required:!0,message:"\u6700\u957f\u53ef\u8f9330\u4e2a\u5b57\u7b26",max:30}]})(S.a.createElement(c.a,{style:{width:"100%"}}))),S.a.createElement(L,U.establishDate,t("establishDate",{initialValue:b.establishDate?C()(b.establishDate):null,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6210\u7acb\u65e5\u671f"}]})(S.a.createElement(l.a,{style:{width:"100%"}}))),S.a.createElement(L,U.businessLicense,t("businessLicense",{initialValue:b.businessLicense,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8425\u4e1a\u6267\u7167\u6ce8\u518c\u53f7"},{required:!0,message:"\u6700\u957f\u53ef\u8f9350\u4e2a\u5b57\u7b26",max:50}]})(S.a.createElement(c.a,{style:{width:"100%"}}))),S.a.createElement(L,U.businessScope,t("businessScope",{initialValue:b.businessScope,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7ecf\u8425\u8303\u56f4"},{required:!0,message:"\u6700\u957f\u53ef\u8f93255\u4e2a\u5b57\u7b26",max:255}]})(S.a.createElement(B,{autosize:{minRows:2,maxRows:6}}))),S.a.createElement(L,U.businessTerm,t("startDate",{initialValue:b&&b.startDate&&C()(b.startDate,"YYYY-MM-DD")||null,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8425\u4e1a\u5f00\u59cb\u65f6\u95f4"}]})(S.a.createElement(l.a,{style:{width:390},placeholder:"\u8bf7\u9009\u62e9\u5f00\u59cb\u65e5\u671f"})),S.a.createElement(n.a,{onChange:this.onBusinessLicenseCheck,style:{marginLeft:20},checked:f},"\u81f3\u957f\u671f"),this.isHiddenBusinessLicenseDate(f)),S.a.createElement(L,U.licenseImg,t("licenseImg",{initialValue:b.licenseImg,rules:[{required:!0,message:"\u8bf7\u4e0a\u4f20\u8425\u4e1a\u6267\u7167\u7167\u7247"}]})(this._renderUpload(P.d,r,"licenseImg"))),S.a.createElement(L,U.licenseUnification,t("licenseUnification",{initialValue:"boolean"===typeof b.licenseUnification?b.licenseUnification:p,rules:[{required:!0,message:"\u8bf7\u9009\u62e9"}]})(S.a.createElement(M,{onChange:function(t){return e._onLicenseChange(t)}},S.a.createElement(u.c,{value:!0},"\u662f"),S.a.createElement("br",null),S.a.createElement(u.c,{value:!1},"\u5426")))),!p&&S.a.createElement("span",null,S.a.createElement(L,U.organizationCode,t("organizationCode",{initialValue:b.organizationCode,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7ec4\u7ec7\u673a\u6784\u4ee3\u7801"},{required:!0,message:"\u6700\u957f\u53ef\u8f9330\u4e2a\u5b57\u7b26",max:30}]})(S.a.createElement(c.a,{style:{width:"100%"}}))),S.a.createElement(L,U.businessTerm2,t("startDate2",{initialValue:b&&b.startDate2&&C()(b.startDate2,"YYYY-MM-DD")||null,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8425\u4e1a\u5f00\u59cb\u65f6\u95f4"}]})(S.a.createElement(l.a,{style:{width:390},placeholder:"\u8bf7\u9009\u62e9\u5f00\u59cb\u65e5\u671f"})),S.a.createElement(n.a,{onChange:this.onBusiness2LicenseCheck,style:{marginLeft:20},checked:h},"\u81f3\u957f\u671f"),this.isHiddenBusiness2LicenseDate(h)),S.a.createElement(L,U.organizationCodeImg,t("organizationCodeImg",{initialValue:b.organizationCodeImg,rules:[{required:!0,message:"\u8bf7\u4e0a\u4f20\u7ec4\u7ec7\u673a\u6784\u4ee3\u7801\u8bc1\u7167\u7247"}]})(this._renderUpload(P.e,m,"organizationCodeImg")))),S.a.createElement(L,U.holderName,t("holderName",{initialValue:b.holderName,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u59d3\u540d"},{required:!0,message:"\u6700\u957f\u53ef\u8f9316\u4e2a\u5b57\u7b26",max:16}]})(S.a.createElement(c.a,{style:{width:"100%"}}))),S.a.createElement(L,U.holderID,t("holderID",{initialValue:b.holderID,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8eab\u4efd\u8bc1\u53f7\u7801"},{required:!0,message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u8eab\u4efd\u8bc1\u53f7\uff08\u5982\uff1a432123198912103118\uff09\uff0c\u8bf7\u6ce8\u610f\u4f7f\u7528\u82f1\u6587\u5b57\u7b26\u683c\u5f0f\u3002",pattern:new RegExp(/^\d{15}|\d{}18$/)},{required:!0,message:"\u6700\u957f\u53ef\u8f9318\u4e2a\u5b57\u7b26",max:18}]})(S.a.createElement(c.a,{style:{width:"100%"}}))),S.a.createElement(L,U.holderIDValidity,t("holderStartDate",{initialValue:b&&b.holderStartDate&&C()(b.holderStartDate,"YYYY-MM-DD")||null,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5f00\u59cb\u65e5\u671f"}]})(S.a.createElement(l.a,{style:{width:390},placeholder:"\u8bf7\u9009\u62e9\u5f00\u59cb\u65e5\u671f"})),S.a.createElement(n.a,{onChange:this.idCardCheck,style:{marginLeft:20},checked:g},"\u81f3\u957f\u671f"),this.isIdCardDate(g)),S.a.createElement(L,U.holderIDFront,t("holderIDFront",{initialValue:b.holderIDFront,rules:[{required:!0,message:"\u8bf7\u4e0a\u4f20\u8eab\u4efd\u8bc1\u6b63\u9762\u7167\u7247"}]})(this._renderUpload(P.c,o,"holderIDFront"))),S.a.createElement(L,U.holderIDBack,t("holderIDBack",{initialValue:b.holderIDBack,rules:[{required:!0,message:"\u8bf7\u4e0a\u4f20\u8eab\u4efd\u8bc1\u53cd\u9762\u7167\u7247"}]})(this._renderUpload(P.b,s,"holderIDBack"))),S.a.createElement(L,{wrapperCol:{xs:{span:24,offset:0},sm:{span:z.span,offset:O.span}},label:""},S.a.createElement(i.a,{type:"primary",onClick:function(){return e._onValidateForm(2)}},"\u4e0a\u4e00\u6b65"),S.a.createElement(i.a,{type:"primary",onClick:function(){return e._onValidateForm(1)},style:{marginLeft:20}},"\u4e0b\u4e00\u6b65"))))}}]),t}(T.PureComponent);t.a=d.a.create()(X)},ubM0:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("gZEk");var n=a("8rR3"),r=(a("JYrs"),a("QoDT")),i=(a("faxx"),a("FV1P")),s=(a("jIi2"),a("hRRF")),o=(a("QX4N"),a("Gj0I")),l=(a("5I7A"),a("ikSq")),u=a("Dd8w"),c=a.n(u),d=a("Zrlr"),m=a.n(d),p=a("wxAW"),f=a.n(p),h=a("zwoO"),g=a.n(h),b=a("Pf15"),y=a.n(b),v=a("GiK3"),E=a.n(v),I=a("RH2O"),x=a("Sn9Y"),D=a("9ekY"),k=a("vy3Y"),_=a("n01F"),T=a("WK8R"),S=a("cYb1"),F=a("deIl"),w=l.a.Step,P=function(e){function t(e){m()(this,t);var a=g()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.state={step:0,data:{},identifier:a.props.match.params.identifier,businessId:0};var n=0;return x.a.getBusinseeEditable(a.state.identifier).then(function(e){e&&e.value||a.setState({step:-1}),n=e?e.businessId:0,x.a.getBusinseeSettledInfo(n).then(function(e){a.setState({data:e})}),a.setState({businessId:n})}).catch(function(){return a.setState({step:-1})}),a}return y()(t,e),f()(t,[{key:"_onStepBack",value:function(){var e=this;x.a.getBusinseeSettledInfo(this.state.businessId).then(function(t){e.setState({data:t,step:e.state.step-1})})}},{key:"_onStepSubmit",value:function(e){var t=this;e=c()(c()(c()({},this.state.data),e),{identifier:this.state.identifier});var a=this.state.step;x.a.businessSettledIn(e).then(function(){return t.setState({step:a+1})}).catch(function(e){console.log(e),o.a.error({message:Object(D.a)(e.status)})})}},{key:"_render",value:function(e){var t=this,a={data:{},businessId:this.state.businessId};switch(e){case 0:return E.a.createElement(k.a,c()({},a,{onSubmit:function(e){return t._onStepSubmit(e)}}));case 1:return E.a.createElement(_.a,c()({},a,{onSubmit:function(e){return t._onStepSubmit(e)},onBack:function(){return t._onStepBack()}}));case 2:return E.a.createElement(T.a,c()({},a,{onSubmit:function(e){return t._onStepSubmit(e)},onBack:function(){return t._onStepBack()}}));case 3:return E.a.createElement(S.a,null);default:return E.a.createElement(F.a,null)}}},{key:"render",value:function(){var e=this.state.step;return E.a.createElement(s.a,{bordered:!1,title:"\u8bb0\u98df\u56e2\u9910\u5546\u5bb6\u5165\u9a7b\u7533\u8bf7"},E.a.createElement(v.Fragment,null,E.a.createElement(i.a,null,E.a.createElement(r.a,{span:12,offset:6},E.a.createElement("div",{style:{marginBottom:"18px",color:"red",textAlign:"center"}},"\u6ce8\u610f\u4e8b\u9879\uff1a1. \u8bf7\u4f7f\u7528\u7535\u8111\u6d4f\u89c8\u5668\u6253\u5f00\u672c\u8868\u5355\u586b\u5199\u30022.\u8bf7\u4e8e\u63a5\u6536\u8868\u5355\u540e24\u5c0f\u65f6\u5185\u5b8c\u6210\u586b\u5199\u3002"),e>-1&&E.a.createElement(l.a,{current:e},E.a.createElement(w,{title:"\u57fa\u672c\u4fe1\u606f"}),E.a.createElement(w,{title:"\u4f01\u4e1a\u4fe1\u606f"}),E.a.createElement(w,{title:"\u7ed3\u7b97\u8d26\u6237\u4fe1\u606f"}),E.a.createElement(w,{title:"\u5b8c\u6210"})))),this._render(e)))}}]),t}(v.PureComponent);t.default=n.a.create()(Object(I.connect)()(P))},vy3Y:function(e,t,a){"use strict";a("LHBr");var n=a("A+AJ"),r=(a("baa2"),a("FC3+")),i=(a("crfj"),a("zwGx")),s=(a("scXE"),a("DYcq")),o=(a("QX4N"),a("Gj0I")),l=(a("gZEk"),a("8rR3")),u=a("Gu7T"),c=a.n(u),d=a("Zrlr"),m=a.n(d),p=a("wxAW"),f=a.n(p),h=a("zwoO"),g=a.n(h),b=a("Pf15"),y=a.n(b),v=a("GiK3"),E=a.n(v),I=a("FfQ2"),x=a("khtf"),D=a("E8Gi"),k=a("QmFP"),_=a("Errp"),T=l.a.Item,S={span:5},F={span:19},w={legalPerson:{label:"1.\u8054\u7cfb\u4eba\u59d3\u540d",extra:"\u8bf7\u586b\u5199\u8bb0\u98df\u56e2\u9910\u4e0e\u5fae\u4fe1\u652f\u4ed8\u4e1a\u52a1\u8054\u7cfb\u4eba\u7684\u771f\u5b9e\u59d3\u540d"},officeTelephone:{label:"2.\u624b\u673a\u53f7\u7801",extra:"\u7528\u4e8e\u63a5\u6536\u5fae\u4fe1\u652f\u4ed8\u7684\u91cd\u8981\u7ba1\u7406\u4fe1\u606f\u53ca\u65e5\u5e38\u64cd\u4f5c\u9a8c\u8bc1\u7801\uff0c\u6211\u4eec\u4f1a\u5728\u5fae\u4fe1\u7b7e\u7ea6\u65f6\u8fdb\u884c\u77ed\u4fe1\u9a8c\u8bc1"},email:{label:"3.\u5e38\u7528\u90ae\u7bb1",extra:"\u975e\u5e38\u91cd\u8981\uff01\u7528\u4e8e\u63a5\u6536\u5fae\u4fe1\u652f\u4ed8\u7684\u8d26\u53f7\u5bc6\u7801"},name:{label:"4.\u5546\u6237\u7b80\u79f0",extra:E.a.createElement("span",null,"\u8be5\u7b80\u79f0\u5c06\u5728\u652f\u4ed8\u5b8c\u6210\u9875\u5411\u4e70\u5bb6\u5c55\u793a\uff0c\u9700\u4e0e\u5fae\u4fe1\u7ecf\u8425\u7c7b\u76ee\u76f8\u5173'",E.a.createElement("br",null),E.a.createElement("img",{src:"http://itanhao.oss-cn-qingdao.aliyuncs.com/business/w-business.png",alt:""}))},unitAddress:{label:"5.\u95e8\u5e97\u5730\u5740",extra:"\u8bf7\u586b\u5199\u8be6\u7ec6\u7684\u7ecf\u8425\u573a\u6240\u5730\u5740"},foodLicenseImg:{label:"6.\u98df\u54c1\u7ecf\u8425\u8bb8\u53ef\u8bc1",extra:E.a.createElement("span",null,"\u8bf7\u4e0a\u4f20\u300a\u98df\u54c1\u7ecf\u8425\u8bb8\u53ef\u8bc1\u300b\u5f71\u5370\u4ef6\u6216\u7167\u7247\uff0c\u786e\u4fdd\u56fe\u50cf\u6e05\u6670\u3002",E.a.createElement("br",null),"\u5982\u672a\u83b7\u5f97\u300a\u98df\u54c1\u7ecf\u8425\u8bb8\u53ef\u8bc1\u300b\uff0c\u53ef\u4e0a\u4f20\u300a\u9910\u996e\u670d\u52a1\u8bb8\u53ef\u8bc1\u300b\u5f71\u5370\u4ef6\u6216\u7167\u7247\u3002",E.a.createElement("br",null),E.a.createElement("img",{src:"http://itanhao.oss-cn-qingdao.aliyuncs.com/business/food-license.png",alt:""}))},customerTelephone:{label:"7.\u5ba2\u670d\u7535\u8bdd",extra:"\u8bf7\u6b63\u786e\u586b\u5199\u5ba2\u670d\u7535\u8bdd\uff0c\u5ea7\u673a\u52a1\u5fc5\u586b\u5199\u533a\u53f7\uff0c\u683c\u5f0f\u5982\uff08\u5ea7\u673a\uff1a0755-XXXXXXXX\uff1b\u624b\u673a\uff1a136XXXXXXXX\uff1b400\u7535\u8bdd\uff1a400XXXXXXX\uff09"}},P=function(e){function t(e){m()(this,t);var a=g()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={foodLicenseImg:[]},a}return y()(t,e),f()(t,[{key:"componentWillMount",value:function(){this._setFoodLicenseImg(this.props.data)}},{key:"_setFoodLicenseImg",value:function(e){e=e||{};var t=Object(k.b)(e.foodLicenseImg||[]);this.setState({foodLicenseImg:t})}},{key:"componentWillReceiveProps",value:function(e){e.data&&e.data!==this.props.data&&(this.props.form.setFieldsValue({foodLicenseImg:e.data.foodLicenseImg}),this._setFoodLicenseImg(e.data))}},{key:"_onValidateForm",value:function(){var e=this;this.props.form.validateFields(function(t,a){t||e.props.onSubmit(a)})}},{key:"_onChangePicture",value:function(e,t){var a=this;e.status&&(e.response&&(e.thumbUrl=e.response.url),this.setState({foodLicenseImg:[e]}),this.props.form.setFieldsValue({foodLicenseImg:[e]}),t.filter(function(t){return t.uid!==e.uid}).forEach(function(e){return a._onRemovePicture(e)}))}},{key:"_onRemovePicture",value:function(e){e.response.id&&x.a.deleteAttachment(e.response.id);var t=this.state.foodLicenseImg?this.state.foodLicenseImg:[],a=t.findIndex(function(t){return t.uid===e.uid});a>-1&&t.splice(a,1),this.setState({foodLicenseImg:[].concat(c()(t))}),t.length||this.props.form.setFieldsValue({foodLicenseImg:void 0})}},{key:"_onBeforeUpload",value:function(e){return!(e.size>k.a)||(o.a.error({message:"\u6587\u4ef6\u6700\u5927\u53ea\u80fd\u4e0a\u4f202M"}),!1)}},{key:"_renderUpload",value:function(){var e=this;return E.a.createElement(s.a,{listType:"picture-card",onRemove:function(t){return e._onRemovePicture(t)},beforeUpload:function(t){return e._onBeforeUpload(t)},fileList:this.state.foodLicenseImg,onChange:function(t){var a=t.file,n=t.fileList;return e._onChangePicture(a,n)},customRequest:function(t){var a={abort:function(){}};return x.a.getUploadFormData(D.a,e.props.businessId,0).then(function(e){var n=(new Date).getTime();t.action=e.url,t.data=e.form,t.data.name=t.file.name,t.data.key+=n.toString()+"."+t.file.name.split(".").pop(),t.data["x:friendlyfilename"]=t.file.name,a=Object(I.a)(t)}),{abort:function(){a.abort()}}}},E.a.createElement(i.a,null,E.a.createElement(r.a,{type:"upload"})," \u9009\u62e9\u6587\u4ef6\uff08\u4e0d\u8d85\u8fc72M\uff09"))}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.props.data||{};return E.a.createElement(v.Fragment,null,E.a.createElement(l.a,{layout:"vertical",className:_.stepForm},E.a.createElement(T,w.legalPerson,t("legalPerson",{initialValue:a.legalPerson,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8054\u7cfb\u4eba\u59d3\u540d"},{required:!0,message:"\u6700\u957f\u53ef\u8f9350\u4e2a\u5b57\u7b26",max:50}]})(E.a.createElement(n.a,null))),E.a.createElement(T,w.officeTelephone,t("officeTelephone",{initialValue:a.officeTelephone,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"},{required:!0,pattern:new RegExp(/^[1][3,4,5,6,7,8,9][0-9]{9}$/,"g"),message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7\u7801\uff08\u5982\uff1a13812341234\uff09\uff0c\u8bf7\u6ce8\u610f\u4f7f\u7528\u82f1\u6587\u5b57\u7b26\u683c\u5f0f\u3002"}]})(E.a.createElement(n.a,{style:{width:"100%"}}))),E.a.createElement(T,w.email,t("email",{initialValue:a.email,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u90ae\u7bb1"},{required:!0,type:"email",message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684Email\u5730\u5740\u5982cs@sojump.com"}]})(E.a.createElement(n.a,{style:{width:"100%"}}))),E.a.createElement(T,w.name,t("name",{initialValue:a.name,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5546\u6237\u7b80\u79f0"},{required:!0,message:"\u6700\u957f\u53ef\u8f93220\u4e2a\u5b57\u7b26",max:220}]})(E.a.createElement(n.a,{style:{width:"100%"}}))),E.a.createElement(T,w.unitAddress,t("unitAddress",{initialValue:a.unitAddress,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u95e8\u5e97\u5730\u5740"},{required:!0,message:"\u6700\u957f\u53ef\u8f93220\u4e2a\u5b57\u7b26",max:220}]})(E.a.createElement(n.a,{style:{width:"100%"}}))),E.a.createElement(T,w.foodLicenseImg,t("foodLicenseImg",{initialValue:a.foodLicenseImg,rules:[{required:!0,message:"\u8bf7\u4e0a\u4f20\u98df\u54c1\u7ecf\u8425\u8bb8\u53ef\u8bc1"}]})(this._renderUpload())),E.a.createElement(T,w.customerTelephone,t("customerTelephone",{initialValue:a.customerTelephone,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5ba2\u670d\u7535\u8bdd"},{required:!0,message:"\u6700\u957f\u53ef\u8f9350\u4e2a\u5b57\u7b26",max:50}]})(E.a.createElement(n.a,{style:{width:"100%"}}))),E.a.createElement(T,{wrapperCol:{xs:{span:24,offset:0},sm:{span:F.span,offset:S.span}},label:""},E.a.createElement(i.a,{type:"primary",onClick:function(){return e._onValidateForm()}},"\u4e0b\u4e00\u6b65"))))}}]),t}(v.PureComponent);t.a=l.a.create()(P)}});